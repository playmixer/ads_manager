<div style="width: 100%; height: 300px; display: flex; flex:1; justify-content: flex-end">
    {% set label=[] %}
    {% for d in list(range(7))[::-1] %}
        <!--{{ label.append(date_now(-d)|datetime('%D')) }}-->
    {% endfor %}
    {% set datas=[] %}
    {% for product in products %}
        {% set data = [] %}
        {% for d in list(range(7))[::-1] %}
            {% set product=product.get_create_product(product_id=product.id, date=date_now(-d)).first() %}
            {% if product %}
                <!--{{ data.append(product[2]) }}-->
            {% else %}
                <!--{{ data.append(0) }}-->
            {% endif %}
        {% endfor %}
        <!--{{ datas.append({
            'data': data,
            'title': product.name,
            'index': loop.index,
            })
         }}-->
    {% endfor %}
    {% with chart_name='chart-product', width=800, height=150, title_display=true, title_text='',
        label_x=label, datas=datas %}
        {% include 'components/chart/bar_stacked.html' %}
    {% endwith %}
</div>